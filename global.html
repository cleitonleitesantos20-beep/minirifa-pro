<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>NexusVL - Global Map</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700&family=Rajdhani:wght@500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --user-neon-color: #00f2ff; 
            --bg-dark: #000000;
            --grid-color: rgba(0, 242, 255, 0.05);
            --highlight-color: var(--user-neon-color);
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }
        body {
            background-color: var(--bg-dark);
            color: #fff;
            font-family: 'Rajdhani', sans-serif;
            overflow: hidden;
            height: 100vh;
            width: 100vw;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Grid de Fundo */
        body::before {
            content: '';
            position: absolute;
            width: 200%; height: 200%;
            background-image: linear-gradient(var(--grid-color) 1px, transparent 1px), linear-gradient(90deg, var(--grid-color) 1px, transparent 1px);
            background-size: 40px 40px;
            z-index: 0;
            transform: perspective(500px) rotateX(60deg);
            bottom: -50%;
        }

        #map-container {
            position: relative;
            z-index: 10;
            width: 95vw;
            max-width: 800px;
        }

        #brazil-svg {
            width: 100%;
            height: auto;
            filter: drop-shadow(0 0 10px rgba(0,0,0,0.5));
        }

        /* Estilo dos Estados */
        #brazil-svg path {
            fill: #0a0a0a;
            stroke: var(--highlight-color);
            stroke-width: 1;
            transition: all 0.3s;
            cursor: pointer;
            opacity: 0.8;
        }

        #brazil-svg path:hover {
            fill: var(--highlight-color);
            opacity: 0.4;
            filter: drop-shadow(0 0 15px var(--highlight-color));
        }

        /* Protagonista: Losango Néon */
        #protagonist {
            position: absolute;
            width: 16px;
            height: 16px;
            background: var(--highlight-color);
            clip-path: polygon(50% 0%, 100% 50%, 50% 100%, 0% 50%);
            filter: drop-shadow(0 0 10px var(--highlight-color));
            pointer-events: none;
            opacity: 0;
            transition: transform 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275), opacity 0.2s;
            z-index: 100;
        }

        #state-label {
            position: fixed;
            top: 40px;
            right: 40px;
            font-family: 'Orbitron';
            font-size: 1.2rem;
            color: var(--highlight-color);
            text-shadow: 0 0 10px var(--highlight-color);
            letter-spacing: 2px;
            pointer-events: none;
        }

        .btn-exit {
            position: fixed;
            bottom: 30px;
            left: 30px;
            padding: 8px 20px;
            border: 1px solid #ff0055;
            color: #ff0055;
            text-decoration: none;
            font-family: 'Orbitron';
            font-size: 12px;
            background: rgba(0,0,0,0.5);
            z-index: 1000;
        }
    </style>
</head>
<body>

    <a href="index.html" class="btn-exit">VOLTAR</a>
    <div id="state-label">SCANNING...</div>

    <div id="map-container">
        <div id="protagonist"></div>
        <svg id="brazil-svg" viewBox="0 0 615 615" xmlns="http://www.w3.org/2000/svg">
            <path id="AC" d="M37.7,288.5l-5.6-2.1l-6.8,1.4l-11.8-6.1l-10.4,1.8l-1.9-2.5l2.2-6.5l8.6-2.8l10.3-10.5l1.6-4.5l6-3.7l6.5,4.3l6.5-1.9l4,3.3l12.3-2.6l10.7,5.5l9.2,0l6.2,5.2l-3.2,16.5l-3.3,4.3l-10.3,1.3l-9.8,8.2L37.7,288.5z"/>
            <path id="AL" d="M575.8,335.7l-5.8-2.6l-10.1,0.9l-4.7-6.2l-5.9,0.3l-4.2-2.3l2.8-5.3l10.1-5.7l9.4,3.7l9.4,11.3L575.8,335.7z"/>
            <path id="AM" d="M220.8,245.4l-9.2,0l-10.7-5.5l-12.3,2.6l-4-3.3l-6.5,1.9l-6.5-4.3l-6,3.7l-1.6,4.5l-10.3,10.5l-8.6,2.8l-2.2,6.5l1.9,2.5l-6.5,5l-1.9,12.5l4.8,3.2l0.2,6.5l-4,3.2l0.5,6.5l4.8,2.7l1.1,6.5l-3.2,5l8.1,9.7l30.8-1.4l15.3-7l16.2,4.8l20.1-5.6l9.4-7.4l2.1-15.6l-5.3-8.6l3.6-14l11.1-7.1l-0.3-16.1l-10.7-8.9L220.8,245.4z"/>
            <path id="AP" d="M366.1,102.2l-14,3.2l-16.1-9.4l-7.7,7.4l5.3,18.1l11.6,7.1l-0.3,11l15.8,17.4l14.8-12.6l4.2,3.9l12.6-3.9l2.3-14.8l-10-18.7L366.1,102.2z"/>
            <path id="BA" d="M510.8,272.7l-26.6-1.3l-16.8,12.3l-14.8,1.6l-16.8,13.2l2.3,15.2l-9.4,14.8l1,19.4l11,13.2l21,2.6l10.3,14.8l16.1,5.5l4.2,16.5l26.6,18.7l16.5-12.3l8.7,3.6l14.2-25.5l-3.6-19l-9.7-18.1l0.3-19.7l9-17.7l-13.9-18.4L510.8,272.7z"/>
            <path id="CE" d="M504,185.7l-16.1,14.8l1.6,18.1l21.3,11.9l21.9-3.9l10.3-11.9l-2.6-16.1L520.1,184L504,185.7z"/>
            <path id="DF" d="M394.3,398.8l-10,0l0,10l10,0V398.8z"/>
            <path id="ES" d="M495.6,488.7l-16.5-18.7l-9.4,1.3l-2.3,15.2l8.4,14.5l15.2,11.3L495.6,488.7z"/>
            <path id="GO" d="M380.1,348.7l-20.1,12.6l2.3,31.6l-11.3,10l-1.9,23.5l14.5,13.2l13.5-1.9l19.4,15.8l20.6-5.8l5.5-24.2l-14.2-22.6l-3.2-27.1l-14.8-13.2L380.1,348.7z"/>
            <path id="MA" d="M441.2,167l-24.8,13.5l-5.2,18.1l5.5,35.2l16.8,15.2l26.1,1.3l16.1-14.8l0.6-28.4l-14.8-21l-11.6-14.8L441.2,167z"/>
            <path id="MG" d="M407.2,425.2l-21.3,5.8l-2.6,35.8l14.8,17.4l14.5,4.8l16.8,15.8l26.1-1.3l9.4-1.3l-1.6-12.9l-16.1-5.5l-10.3-14.8l-21-2.6l-11-13.2l-1-19.4l9.4-14.8l-2.3-15.2l-14.8-1.6L407.2,425.2z"/>
            <path id="MS" d="M290.4,445.6l-20.6,18.1l-4.2,25.2l12.9,13.5l18.4,1.9l18.4,19l18.4-5.5l11.3-10l-2.3-31.6l-22.3-25.5L300,443L290.4,445.6z"/>
            <path id="MT" d="M246.2,308l-9.4,7.4l2.3,47.4l10.3,19.4l31,61.3l9.7-2.6l20.6,6.1l22.3,25.5l20.1-12.6l10.3-41.9l-13.9-32.3l0.3-39.7l-20.6-25.5l-35.8,0.3l-24.8-17.7L246.2,308z"/>
            <path id="PA" d="M371.6,134.4l-15.8-17.4l0.3-11l-11.6-7.1l-5.3-18.1l-25.5,5.2l-41.9,18.7l-12.3,19.4l10.7,8.9l0.3,16.1l-11.1,7.1l-3.6,14l5.3,8.6l-2.1,15.6l24.8,17.7l35.8-0.3l20.6,25.5l11.9,0l5.2-18.1l24.8-13.5l1.3-19l-4.2-3.9L371.6,134.4z"/>
            <path id="PB" d="M575.8,251.5l-2.6-10.3l-21.3-3.2l-10.3,11.9l2.6,16.1l15.8,5.5l12.6-5.8L575.8,251.5z"/>
            <path id="PR" d="M285.9,511.1l-13.2,14.8l10,24.5l22.3,8.1l20.3-1.6l12.6-14.8l-18.4-19l-18.4-1.9L285.9,511.1z"/>
            <path id="PE" d="M572.6,275.4l-12.6,5.8l-15.8-5.5l-16.1,14.8l26.6,1.3l13.9,18.4l1.6-16.5l8.7-10.3L572.6,275.4z"/>
            <path id="PI" d="M470.2,201.2l-1.6-18.1l16.1-14.8l11.6,14.8l14.8,21l-0.6,28.4l-21.3-11.9l-1.6-18.1L470.2,201.2z"/>
            <path id="RJ" d="M410.8,518.7l1.6,12.9l16.8,4.2l5.8-8.4l-8.4-14.5l-14.5-4.8L410.8,518.7z"/>
            <path id="RN" d="M573.2,241.1l-10.3,11.9l21.3,3.2l4.8-5.8l-2.9-9.7L573.2,241.1z"/>
            <path id="RO" d="M153,322.2l-8.1-9.7l3.2-5l-1.1-6.5l-4.8-2.7l-0.5-6.5l4-3.2l-0.2-6.5l-4.8-3.2l1.9-12.5l6.5-5l10.3,1.3l3.3-4.3l3.2-16.5l10.7,8.9l12.3-19.4l41.9-18.7l25.5-5.2l-11.1,7.1l-3.6,14l5.3,8.6l-2.1,15.6l-9.4,7.4l-20.1,5.6l-16.2-4.8l-15.3,7l-30.8,1.4L153,322.2z"/>
            <path id="RR" d="M211.6,19.4l-19.4,26.8l-14.5,41.9l12.3,19.4l41.9-18.7l25.5-5.2l-14-3.2l-10,18.7l-2.3,14.8l-12.6,3.9l-4.2-3.9l-14.8,12.6l-15.8-17.4l0.3-11l-10.7-8.9L211.6,19.4z"/>
            <path id="RS" d="M259.7,564.7l-15.5,13.5l3.6,19.4l19,10l20.3-4.5l12.3-18.4l-20.3,1.6l-22.3-8.1L259.7,564.7z"/>
            <path id="SC" d="M282.7,550.4l10,24.5l20.3-4.5l12.6-14.8L305.3,547L282.7,550.4z"/>
            <path id="SE" d="M555.2,336l-9.4-3.7l-10.1,5.7l-2.8,5.3l4.2,2.3l5.9-0.3l4.7,6.2l10.1-0.9L555.2,336z"/>
            <path id="SP" d="M305.3,547l18.4,19l16.8-15.8l-14.5-4.8l-14.8-17.4l2.6-35.8l-18.4,5.5l-12.9,13.5L305.3,547z"/>
            <path id="TO" d="M382.7,215.1l-11.9,0l20.6,25.5l-0.3,39.7l13.9,32.3l14.8,13.2l3.2,27.1l14.2,22.6l-5.5,24.2l1.6-28.4l16.1-14.8l-26.1-1.3l-16.8-15.2l-5.5-35.2l5.2-18.1l11.9,0l4.2,3.9l1.3-19L382.7,215.1z"/>
        </svg>
    </div>

    <script type="module">
        const protagonist = document.getElementById('protagonist');
        const label = document.getElementById('state-label');
        const paths = document.querySelectorAll('#brazil-svg path');
        const container = document.getElementById('map-container');

        // Carregar cor do perfil (Simulado)
        const userColor = localStorage.getItem('userNeonColor') || '#00f2ff';
        document.documentElement.style.setProperty('--user-neon-color', userColor);

        paths.forEach(path => {
            path.addEventListener('mouseenter', (e) => {
                const stateId = e.target.id;
                label.innerText = `SETOR: ${stateId}`;
                label.style.opacity = '1';

                // Lógica de posicionamento do Losango no centro do estado
                const bbox = e.target.getBBox();
                const centerX = bbox.x + (bbox.width / 2);
                const centerY = bbox.y + (bbox.height / 2);

                protagonist.style.opacity = '1';
                protagonist.style.transform = `translate(${centerX - 8}px, ${centerY - 8}px) rotate(45deg)`;
            });

            path.addEventListener('mouseleave', () => {
                label.innerText = 'SCANNING...';
                protagonist.style.opacity = '0';
            });

            path.addEventListener('click', (e) => {
                const state = e.target.id;
                // Efeito visual de clique
                e.target.style.fill = '#fff';
                setTimeout(() => {
                    window.location.href = `setor.html?id=${state}`;
                }, 200);
            });
        });
    </script>
    <script type="module" src="nexus-overlay.js"></script>
</body>
</html>
